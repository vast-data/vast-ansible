"""Manager class for ldaps resources.

This module contains the LdapManager class which encapsulates
business logic for ldaps operations.

Generated by VAST Ansible Generator.
"""

from typing import Any, Dict

from ..managers.base import ResourceManager


class LdapManager(ResourceManager):
    """Ldap resource manager.

    Provides CRUD operations and business logic for ldaps resources.
    """

    resource_name = "ldaps"
    lookup_field = "domain_name"

    # Async operation flags
    async_create = False
    async_update = False
    async_delete = False

    def set_posix_primary(self, resource_id: int) -> Dict[str, Any]:
        """Perform set_posix_primary operation.

        Args:
            resource_id: Resource ID

        Returns:
            Operation result

        Raises:
            VastAPIError: On API errors
        """
        from ..errors import VastAPIError

        try:
            result = self.client.api.ldaps[resource_id].set_posix_primary.patch()
            return {"changed": True, "result": result}
        except Exception as e:
            raise VastAPIError(f"Failed to set_posix_primary: {str(e)}") from e
